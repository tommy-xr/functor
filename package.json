{
  "private": true,
  "type": "module",
  "scripts": {
    "clean": "git clean -fdX",

    "build-js": "dotnet fable src/Functor.RayTracer/functor.fsproj --outDir out",
    "build-rust": "dotnet fable src/Functor.RayTracer/functor.fsproj --lang rust --outDir .",
    "build-rust-web": "npm run build-rust && wasm-pack build --target web",
    "build-rust-node": "npm run build-rust && wasm-pack build --target nodejs",

    "test-rust-web": "npm run build-rust-web && npx http-server",
    "test-rust-node": "npm run build-rust-node && node src/Functor.RayTracer/test_wasm.js",
    "test-rust-target-cpu": "npm run build-rust && cargo run --config build.rustflags='\"-C target-cpu=native\"' --release",
    "test-rust": "npm run build-rust && cargo run --release",

    "test": "npm run test-rust && npm run test-dotnet"
  }
}
